<!--

    Pre-alpha version
    
    Results of the analysis

    Arturo Olivares

    Copyright (C) 2023 Arturo Olivares
    GNU GPLv3
    
-->

{% extends 'base.html' %}

{% block head %}
    <script src="/static/scripts/renderer.js"></script>
    <script type="text/python" src="/static/scripts/countries.py"></script>
    <link rel="stylesheet" href="/static/css/result.css">
    <title>Risette.py Analysis</title>
{% endblock %}

{% block body %}
    
    <main class="col-xs-12 well col-sm-12 well col-md-12 well main">
        <div class="col-xs-2 well col-sm-2 well col-md-2 well left-col">
            2 Col
        </div>
        <div class="col-xs-8 well col-sm-8 well col-md-8 well right-col">
            <div class="col-xs-12 well col-sm-6 well col-md-6 well right-subcol">
                <div class="col-xs-12 well col-sm-12 well col-md-12 well right-subcol-row">
                    <h4>{{ channelDetails[0] }}</h4>
                    <span>{{ "{:,}".format(channelDetails[7]) }} videos</span>
                </div>
                <div class="col-xs-12 well col-sm-12 well col-md-12 well right-subcol-row" id="header-imgs-div">
                    <div class="col-xs-12 well col-sm-12 well col-md-12 well" id="banner-div"
                    style="background-image: url('{{ channelDetails[2] }}');"></div>
                    <div class="col-xs-12 well col-sm-12 well col-md-12 well" id="pfp-div">
                        <img class="ui medium circular image" id="pfp" src="{{ channelDetails[1] }}">
                    </div>
                </div>
                <div class="col-xs-12 well col-sm-12 well col-md-12 well right-subcol-row" id="details-panel">
                    <h2 id="channel-name">{{ channelDetails[0] }}</h2>
                    <p> ID: <i>{{ channel_id }}</i></p>
                    <p style="text-align: justify;">
                        {{ channelDetails[3] }}
                    </p>
                    <div class="ui medium breadcrumb" id="details-row">
                        <i class="map marker alternate icon"></i>
                        <span id="flag"></span>
                        <span class="section" id="country"> {{ channelDetails[4] }} </span>
                        <i class="calendar alternate outline icon"></i>
                        <span>Joined {{ creationDate }}</span>                        
                        <i class="linkify icon"></i>
                        <a class="section" href="{{ URL }}">YouTube</a>
                    </div>
                    <div class="ui breadcrumb" id="details-row">
                        <span><b>{{ "{:,}".format(channelDetails[6]) }}</b> views</span>
                        <span><b>{{ "{:,}".format(channelDetails[8]) }}</b> subscribers</span> 
                    </div>
                </div>
                <div class="col-xs-12 well col-sm-12 well col-md-12 well" id="dataframes">
                    <h3>Top 10 Longest Videos among the 50 Latest Videos on the Channel</h3>
                    {{ htmlTable1|safe }}
                    <h3>Top 10 Most Liked Videos among the 50 Latest Videos on the Channel</h3>
                    {{ htmlTable2|safe }}
                </div>
            </div>
            <div class="col-xs-12 well col-sm-6 well col-md-6 well left-subcol">
                <h3 style="text-align: center;">Latest video</h3>
                <div class="col-xs-12 well col-sm-12 well col-md-12 well video-panel">
                    <div id="player1" class="video-player"></div>
                    <div class="video-description">
                        <h5>{{ relVids['video1'][0] }}</h5>
                        <p>{{ relVids['video1'][1] }}</p>
                    </div>
                    <p id="latest-video" hidden>{{ relVidsIDs[0] }}</p>
                </div> 
                <div class="col-xs-12 well col-sm-12 well col-md-12 well audience-panel">
                    <i class="eye icon"></i>
                    <span>{{ "{:,}".format(relVids['video1'][2]) }}</span>
                    <i class="thumbs up outline icon"></i>
                    <span>{{ "{:,}".format(relVids['video1'][3]) }}</span>
                </div>
                <h3 style="text-align: center;">Most viewed video</h3>
                <div class="col-xs-12 well col-sm-12 well col-md-12 well video-panel">
                    <div id="player2" class="video-player"></div>
                    <div class="video-description">
                        <h5>{{ relVids['video2'][0] }}</h5>
                        <p>{{ relVids['video2'][1] }}</p>
                    </div>
                    <p id="popular-video" hidden>{{ relVidsIDs[1] }}</p>
                </div>
                <div class="col-xs-12 well col-sm-12 well col-md-12 well audience-panel">
                    <i class="eye icon"></i>
                    <span>{{ "{:,}".format(relVids['video2'][2]) }}</span>
                    <i class="thumbs up outline icon"></i>
                    <span>{{ "{:,}".format(relVids['video2'][3]) }}</span>
                </div>
                <h3 style="text-align: center;">Oldest video</h3>
                <div class="col-xs-12 well col-sm-12 well col-md-12 well video-panel">
                    <div id="player3" class="video-player"></div>
                    <div class="video-description">
                        <h5>{{ relVids['video3'][0] }}</h5>
                        <p>{{ relVids['video3'][1] }}</p>
                    </div>
                    <p id="oldest-video" hidden>{{ relVidsIDs[2] }}</p>
                </div>
                <div class="col-xs-12 well col-sm-12 well col-md-12 well audience-panel">
                    <i class="eye icon"></i>
                    <span>{{ "{:,}".format(relVids['video3'][2]) }}</span>
                    <i class="thumbs up outline icon"></i>
                    <span>{{ "{:,}".format(relVids['video3'][3]) }}</span>
                </div> 
            </div>
            </div>
        </div>
    </main>
{% endblock %}

<!--

<p>Channel Name: {{ channelDetails[0] }}</p>
<p>Profile Image URL: {{ channelDetails[1] }}</p>
<p>Banner URL: {{ channelDetails[2] }}</p>
<p>Description: {{ channelDetails[3] }}</p>
<p>Country: {{ channelDetails[4] }}</p>
<p>Created At: {{ channelDetails[5] }}</p>
<p>Total Views: {{ channelDetails[6] }}</p>
<p>Total Videos: {{ channelDetails[7] }}</p>
<p>Total Subscribers: {{ channelDetails[8] }}</p>

-->
